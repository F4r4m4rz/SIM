@page "/NewItem/{type}"
@using SIM.Blazor.Admin.Components
@using SIM.CodeEngine.Dynamic

<AddNewItem TargetType=ItemType></AddNewItem>

@code{
    [Parameter]
    public string type { get; set; }

    public Type ItemType { get; set; }

    protected override Task OnInitializedAsync()
    {
        ItemType = GetProperItemType();
        return base.OnInitializedAsync();
    }

    private Type GetProperItemType()
    {
        switch (type)
        {
            case "Node":
                return typeof(DynamicNode);
            case "Relation":
                return typeof(DynamicRelation);
            default:
                return null;
        }
    }
}